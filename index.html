<!DOCTYPE html>
<html>
   <head>
     <title>get Ip and MAC!</title>
     <meta http-equiv=Content-Type content="text/html; charset=gb2312">
   </head>
   <body>
    </body>

<script type="text/javascript">  
        window.RTCPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection; //compatibility for Firefox and chrome
  var pc = new RTCPeerConnection({iceServers:[{urls: "stun:stun.services.mozilla.com"}]}), noop = function(){};      
  pc.createDataChannel(''); //create a bogus data channel
  pc.createOffer(pc.setLocalDescription.bind(pc), noop); // create offer and set local description
  pc.onicecandidate = function(ice){
      if (ice && ice.candidate && ice.candidate.candidate){
         var myIP = /([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(ice.candidate.candidate)[1];
         console.log('my IP: ', myIP);   
         pc.onicecandidate = noop;
     }
};

</script>

    
    
    
</html>
